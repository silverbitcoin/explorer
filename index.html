<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Silver Bitcoin Explorer - Real-time blockchain data visualization">
    <meta name="theme-color" content="#1a1a2e">
    <title>SLVR Explorer</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/minimal-theme.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/analytics.css">
    <link rel="stylesheet" href="css/mining.css">
    <link rel="stylesheet" href="css/contracts.css">
    <link rel="stylesheet" href="css/privacy.css">
    <link rel="stylesheet" href="css/network.css">
</head>
<body>
    <!-- Main Application Container -->
    <div id="app" class="app-container">
        <!-- Header Navigation -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-section">
                    <img src="logo.png" alt="SilverBitcoin" class="logo" onerror="this.style.display='none'">
                    <div class="app-title">SLVR Explorer</div>
                </div>
                
                <nav class="main-nav">
                    <ul class="nav-list">
                        <li><a href="#/" class="nav-link active" data-page="dashboard">Dashboard</a></li>
                        <li><a href="#/blocks" class="nav-link" data-page="blocks">Blocks</a></li>
                        <li><a href="#/transactions" class="nav-link" data-page="transactions">Transactions</a></li>
                        <li><a href="#/accounts" class="nav-link" data-page="accounts">Accounts</a></li>
                        <li><a href="#/contracts" class="nav-link" data-page="contracts">Contracts</a></li>
                        <li><a href="#/privacy" class="nav-link" data-page="privacy">Privacy</a></li>
                        <li><a href="#/peers" class="nav-link" data-page="peers">Network</a></li>
                        <li><a href="#/analytics" class="nav-link" data-page="analytics">Analytics</a></li>
                        <li><a href="#/mining" class="nav-link" data-page="mining">Mining</a></li>
                    </ul>
                </nav>
                
                <div class="header-controls">
                    <div class="search-container">
                        <input type="text" id="global-search" class="search-input" placeholder="Search block, tx, or address...">
                        <button id="search-btn" class="search-btn">Search</button>
                    </div>
                    
                    <div class="theme-toggle">
                        <button id="theme-btn" class="theme-btn" title="Toggle theme">
                            <span class="theme-icon">üåô</span>
                        </button>
                    </div>
                    
                    <div class="connection-status">
                        <span id="connection-indicator" class="status-indicator" title="RPC Connection Status"></span>
                        <span id="connection-text" class="status-text">Connecting...</span>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Main Content Area -->
        <main class="app-main">
            <!-- Loading Spinner -->
            <div id="loading-spinner" class="loading-spinner hidden">
                <div class="spinner-content">
                    <div class="spinner-animation"></div>
                    <p class="spinner-text">Loading...</p>
                </div>
            </div>
            
            <!-- Error Container -->
            <div id="error-container" class="error-container hidden">
                <div class="error-content">
                    <h3 class="error-title">Error</h3>
                    <p id="error-message" class="error-message"></p>
                    <button id="error-retry-btn" class="error-retry-btn">Retry</button>
                    <button id="error-close-btn" class="error-close-btn">Dismiss</button>
                </div>
            </div>
            
            <!-- Page Container -->
            <div id="page-container" class="page-container">
                <!-- Pages will be rendered here -->
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <p class="footer-text">SLVR Explorer &copy; 2025 | API : <span id="rpc-endpoint">rpc.silverbitcoin.org</span></p>
                <div class="footer-links">
                    <a href="https://silverbitcoin.org" target="_blank" rel="noopener noreferrer">Website</a>
                    <a href="https://docs.silverbitcoin.org" target="_blank" rel="noopener noreferrer">Documentation</a>
                    <a href="https://github.com/silverbitcoin" target="_blank" rel="noopener noreferrer">GitHub</a>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- JavaScript Libraries and Application Code -->
    <!-- 1. Configuration & Constants (FIRST) -->
    <script src="js/constants.js"></script>
    
    <!-- 2. WebSocket Client (REAL-TIME DATA) -->
    <script src="js/websocket-client.js"></script>
    
    <!-- 2b. RPC Connector (Multi-Protocol: WSS/WS/HTTP) -->
    <script src="js/rpc-connector.js"></script>
    
    <!-- 3. Utilities -->
    <script src="js/utils/storage.js"></script>
    <script src="js/utils/validation.js"></script>
    <script src="js/utils/format.js"></script>
    
    <!-- 3. Core Systems -->
    <script src="js/cache-manager.js"></script>
    <script src="js/rpc-client.js"></script>
    <script src="js/rpc-adapter.js"></script>
    <script src="js/data-processor.js"></script>
    <script src="js/ui-renderer.js"></script>
    
    <!-- 4. CRYPTOGRAPHY (PRODUCTION-GRADE SHA-512) -->
    <script src="js/crypto-sha512.js"></script>
    
    <!-- 5. PRODUCTION-GRADE BLOCKCHAIN API & DATA FETCHER -->
    <script src="js/silver-blockchain-api.js"></script>
    
    <!-- 5. PRODUCTION-GRADE ANALYTICS & MINING -->
    <script src="js/analytics-engine.js"></script>
    <script src="js/mining-dashboard.js"></script>
    <script src="js/advanced-rpc-integration.js"></script>
    
    <!-- 6. PRODUCTION-GRADE PAGES (Real Data) -->
    <script src="js/pages/dashboard.js"></script>
    <script src="js/pages/blocks.js"></script>
    <script src="js/pages/transactions.js"></script>
    <script src="js/pages/accounts.js"></script>
    <script src="js/pages/address-details.js"></script>
    <script src="js/pages/transaction-details.js"></script>
    <script src="js/pages/block-details.js"></script>
    <script src="js/pages/analytics-dashboard.js"></script>
    <script src="js/pages/mining-details.js"></script>
    
    <!-- 6b. NEW PAGES - Smart Contracts, Privacy, Network -->
    <script src="js/pages/smart-contracts.js"></script>
    <script src="js/pages/privacy-transactions.js"></script>
    <script src="js/pages/network-peers.js"></script>
    
    <!-- 7. Main Application -->
    <script src="js/app.js"></script>
    
    <!-- Auto-sync with RPC server -->
    <script>
        // Auto-detect RPC endpoint based on current domain
        const detectRPCEndpoint = () => {
            const hostname = window.location.hostname;
            
            if (hostname === 'localhost' || hostname === '127.0.0.1') {
                return 'http://127.0.0.1:9100';
            } else if (hostname.includes('silverbitcoin.org')) {
                return 'https://rpc.silverbitcoin.org';
            } else {
                return EXPLORER_CONFIG.RPC_ENDPOINT;
            }
        };
        
        // Override RPC endpoint if auto-detected
        const detectedRPC = detectRPCEndpoint();
        if (detectedRPC !== EXPLORER_CONFIG.RPC_ENDPOINT) {
            console.log('üîÑ Auto-detected RPC endpoint:', detectedRPC);
            EXPLORER_CONFIG.RPC_ENDPOINT = detectedRPC;
        }
        
        // Theme toggle functionality
        document.addEventListener('DOMContentLoaded', () => {
            const themeBtn = document.getElementById('theme-btn');
            if (themeBtn) {
                const themeIcon = themeBtn.querySelector('.theme-icon');
                
                // Check for saved theme or default to light
                const savedTheme = localStorage.getItem('silverbitcoin-explorer-theme') || 'light';
                document.documentElement.setAttribute('data-theme', savedTheme);
                themeIcon.textContent = savedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
                
                // Theme toggle event
                themeBtn.addEventListener('click', () => {
                    const currentTheme = document.documentElement.getAttribute('data-theme');
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                    
                    document.documentElement.setAttribute('data-theme', newTheme);
                    localStorage.setItem('silverbitcoin-explorer-theme', newTheme);
                    themeIcon.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
                });
            }
        });
    </script>
</body>
</html>